<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PerformanceStatus - Preview</title>
    <style>
        /* === component.css (inline) === */
        /* Performance Status Component */
        /* Font: Pretendard */
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        #performance-status-container {
            /* Main container - 런타임에서 컨테이너가 제공하는 크기를 따름 */
            .performance-status {
                width: 100%;
                height: 100%;
                position: relative;
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                justify-content: space-between;
                padding: 14px 24px 20px 24px;
                border-radius: 15px;
                border: 1px solid #4d634e;
                background: linear-gradient(to bottom, rgba(32, 44, 40, 0.8), rgba(8, 33, 25, 0.8));
                backdrop-filter: blur(2px);
                font-family: 'Pretendard', sans-serif;
            }

            /* Header section */
            .header {
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: flex-end;
                gap: 7px;
                padding-top: 6px;
                flex-shrink: 0;
            }

            .header-top {
                width: 100%;
                display: flex;
                align-items: center;
                justify-content: space-between;
                flex-shrink: 0;
            }

            /* Title */
            .title {
                display: flex;
                align-items: center;
                gap: 9px;
                flex-shrink: 0;
            }

            .icon {
                width: 16.681px;
                height: 18.27px;
                flex-shrink: 0;
            }

            .icon img {
                display: block;
                width: 100%;
                height: 100%;
                max-width: none;
            }

            .title-text {
                font-weight: 600;
                font-size: 18px;
                color: #e9ebeb;
                white-space: nowrap;
                line-height: normal;
            }

            /* Data badges */
            .data {
                display: flex;
                align-items: center;
                gap: 5px;
                flex-shrink: 0;
            }

            .data-item {
                height: 26px;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 7px;
                padding: 0 14px;
                flex-shrink: 0;
            }

            .data-item p {
                font-weight: 500;
                font-size: 16px;
                line-height: normal;
                white-space: nowrap;
            }

            .data-count {
                background-color: #3b4c46;
                border-radius: 2px;
            }

            .data-count p {
                color: #e9ebeb;
            }

            .data-tps {
                background-color: #222222;
                border: 1px solid #5e5e5e;
                border-radius: 4px;
            }

            .data-tps p {
                color: #0defcb;
            }

            .data-response {
                background-color: #222222;
                border: 1px solid #5e5e5e;
                border-radius: 4px;
            }

            .data-response p {
                color: #0de7ef;
            }

            /* Legend */
            .legend {
                display: flex;
                align-items: center;
                gap: 10px;
                flex-shrink: 0;
            }

            .legend-item {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 7px;
                height: 22px;
                border-radius: 20px;
                flex-shrink: 0;
            }

            .legend-dot {
                width: 8px;
                height: 8px;
                border-radius: 2px;
                flex-shrink: 0;
            }

            .legend-dot.tps {
                background-color: #0defcb;
            }

            .legend-dot.response {
                background-color: #0de7ef;
            }

            .legend-item p {
                font-weight: 500;
                font-size: 13px;
                color: #e9ebeb;
                line-height: normal;
                white-space: nowrap;
            }

            /* Container */
            .container {
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 15px;
                padding: 6px 0;
                flex-shrink: 0;
            }

            /* Items container for dynamic rendering */
            .items-container {
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            /* Row */
            .row {
                display: flex;
                align-items: flex-start;
                gap: 24px;
                flex-shrink: 0;
            }

            /* Item - 130x65 fixed size */
            .item {
                width: 130px;
                height: 65px;
                position: relative;
                flex-shrink: 0;
            }

            /* Cylinder wrapper - inset: 21.54% 50.24% 4.6% 0.53% (top right bottom left) */
            .cylinder-wrapper {
                position: absolute;
                top: 21.54%;
                right: 50.24%;
                bottom: 4.6%;
                left: 0.53%;
            }

            /* Cylinder image - slightly overflows wrapper */
            .cylinder-img {
                position: absolute;
                top: 0;
                left: -4.69%;
                right: -4.69%;
                bottom: -9.46%;
            }

            .cylinder-img img {
                display: block;
                width: 100%;
                height: 100%;
                max-width: none;
            }

            /* Number - top: 0, bottom: 67.69%, left varies, right varies */
            .item-number {
                position: absolute;
                top: 0;
                bottom: 67.69%;
                left: 12%;
                right: 62%;
                font-weight: 600;
                font-size: 18px;
                color: white;
                text-align: center;
                white-space: nowrap;
                line-height: normal;
            }

            /* Label box - inset: 7.38% right bottom 55.18%+ varies */
            .item-label {
                position: absolute;
                top: 7.38%;
                right: 1.3%;
                bottom: 66.47%;
                left: 55.18%;
                background-color: #3b4c46;
                border-radius: 2px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .item-label p {
                font-weight: 500;
                font-size: 13px;
                color: #e9ebeb;
                text-align: center;
                white-space: nowrap;
                letter-spacing: -0.26px;
                line-height: normal;
            }

            /* TPS value box - inset: 41.9% 1.3% 31.95% 55.18% */
            .item-tps {
                position: absolute;
                top: 41.9%;
                right: 1.3%;
                bottom: 31.95%;
                left: 55.18%;
                background-color: #1c1c1c;
                border: 1px solid #5e5e5e;
                border-radius: 4px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .item-tps p {
                font-weight: 500;
                font-size: 13px;
                color: #0defcb;
                text-align: center;
                white-space: nowrap;
                line-height: normal;
            }

            /* Response value box - inset: 71.13% 1.3% 2.72% 55.18% */
            .item-response {
                position: absolute;
                top: 71.13%;
                right: 1.3%;
                bottom: 2.72%;
                left: 55.18%;
                background-color: #1c1c1c;
                border: 1px solid #5e5e5e;
                border-radius: 4px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .item-response p {
                font-weight: 500;
                font-size: 13px;
                color: #0de7ef;
                text-align: center;
                white-space: nowrap;
                line-height: normal;
            }
        }
    </style>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Pretendard', sans-serif;
        }

        /* Container: Figma 선택 요소 크기 */
        #performance-status-container {
            width: 524px;
            height: 350px;
            overflow: auto;
        }
    </style>
</head>
<body>
    <div id="performance-status-container">
        <div class="performance-status">
            <!-- Header -->
            <div class="header">
                <div class="header-top">
                    <div class="title">
                        <div class="icon">
                            <img src="assets/6e134c6c4f175a81f94018216584fd808a1b84b6.svg" alt="">
                        </div>
                        <span class="title-text">구간별 성능현황</span>
                    </div>
                    <div class="data">
                        <div class="data-item data-count">
                            <p class="header-count">681</p>
                        </div>
                        <div class="data-item data-tps">
                            <p class="header-tps">16,959.0</p>
                        </div>
                        <div class="data-item data-response">
                            <p class="header-response">0.603</p>
                        </div>
                    </div>
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-dot tps"></div>
                        <p>TPS</p>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot response"></div>
                        <p>응답시간</p>
                    </div>
                </div>
            </div>

            <!-- Container -->
            <div class="container">
                <template id="item-template">
                    <div class="item">
                        <div class="cylinder-wrapper">
                            <div class="cylinder-img">
                                <img src="" alt="">
                            </div>
                        </div>
                        <p class="item-number"></p>
                        <div class="item-label">
                            <p></p>
                        </div>
                        <div class="item-tps">
                            <p></p>
                        </div>
                        <div class="item-response">
                            <p></p>
                        </div>
                    </div>
                </template>
                <div class="items-container"></div>
            </div>
        </div>
    </div>

    <script>
        // Mock data for preview
        const mockData = {
            header: {
                count: 681,
                totalTps: 16959.0,
                avgResponse: 0.603
            },
            items: [
                { label: '전체', number: 5, tps: 61.0, response: 0.003, cylinderType: 'green' },
                { label: 'WEB', number: 5, tps: 51.0, response: 0.007, cylinderType: 'blue' },
                { label: 'WAS', number: 109, tps: 1999.8, response: 0.005, cylinderType: 'green' },
                { label: 'TP', number: 15, tps: 5318.0, response: 0.031, cylinderType: 'yellow' },
                { label: 'TP-DB', number: 431, tps: 2781.2, response: 0.046, cylinderType: 'red' },
                { label: 'MCA', number: 69, tps: 2618.2, response: 0.161, cylinderType: 'green' },
                { label: '대내 EAI', number: 10, tps: 741.2, response: 0.010, cylinderType: 'red' },
                { label: '대내 EIC', number: 23, tps: 627.4, response: 0.187, cylinderType: 'purple' },
                { label: '대외 EIC', number: 14, tps: 2761.2, response: 0.153, cylinderType: 'red' }
            ]
        };

        // Cylinder assets mapping
        const CYLINDER_ASSETS = {
            green: 'assets/22d18fb2964a57ef7db9eaa50bd9135cbff48aa5.svg',
            blue: 'assets/cad60b4e3cd34eaac69c5d923a31932955d32d8c.svg',
            yellow: 'assets/3d5912f055fba78c669d556c26e1f66c6ef0cc1a.svg',
            red: 'assets/fa8972967a99dcd64e9820680b79f9346edeef9f.svg',
            purple: 'assets/60de5f08b5d94f20c34edde8382f259149e5ae2f.svg'
        };

        // Render function
        function renderData(data) {
            const { header, items } = data;

            // Render header
            document.querySelector('.header-count').textContent = header.count.toLocaleString();
            document.querySelector('.header-tps').textContent = header.totalTps.toLocaleString();
            document.querySelector('.header-response').textContent = header.avgResponse.toFixed(3);

            // Get template and container
            const template = document.querySelector('#item-template');
            const container = document.querySelector('.items-container');
            container.innerHTML = '';

            // Group items into rows of 3
            const rows = [];
            for (let i = 0; i < items.length; i += 3) {
                rows.push(items.slice(i, i + 3));
            }

            // Render rows
            rows.forEach(rowItems => {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'row';

                rowItems.forEach((item, index) => {
                    const clone = template.content.cloneNode(true);
                    const itemEl = clone.querySelector('.item');

                    // Set cylinder image
                    const cylinderImg = itemEl.querySelector('.cylinder-img img');
                    cylinderImg.src = CYLINDER_ASSETS[item.cylinderType] || CYLINDER_ASSETS.green;

                    // Set number
                    itemEl.querySelector('.item-number').textContent = item.number;

                    // Set label
                    itemEl.querySelector('.item-label p').textContent = item.label;

                    // Set TPS (no comma formatting per Figma design)
                    itemEl.querySelector('.item-tps p').textContent = item.tps;

                    // Set response
                    itemEl.querySelector('.item-response p').textContent = item.response.toFixed(3);

                    rowDiv.appendChild(clone);
                });

                container.appendChild(rowDiv);
            });
        }

        // Initial render
        document.addEventListener('DOMContentLoaded', () => {
            renderData(mockData);
        });
    </script>
</body>
</html>
